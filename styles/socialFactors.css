/* styles/socialFactors.css */

/* ===== FIX NAV (sinon liens violets/underline) ===== */
.dash-nav{
  margin-top: 12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.dash-tab{
  text-decoration:none !important;
  color: rgba(255,255,255,0.92) !important;
  background: rgba(255,255,255,0.14);
  border: 1px solid rgba(255,255,255,0.22);
  padding: 7px 12px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 850;
  display:inline-flex;
  align-items:center;
  transition: transform .12s, background .12s, border-color .12s;
}
.dash-tab:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.20);
  border-color: rgba(255,255,255,0.34);
}
.dash-tab.active{
  background: rgba(255,255,255,0.92);
  color: #0f4c75 !important;
  border-color: rgba(255,255,255,0.92);
}

/* Pages */
.dash-page{ display:none; }
.dash-page.is-active{ display:block; }

/* ===== SOCIAL FACTORS ===== */
:root{
  --sf-ink:#0f172a;
  --sf-muted:#64748b;
  --sf-border: rgba(15, 23, 42, 0.10);
  --sf-shadow: 0 12px 26px rgba(0,0,0,0.06);
  --sf-risk:#e11d48;
  --sf-prot:#059669;
  --sf-blue:#2563eb;
}

.sf-wrap{
  display:grid;
  gap: 12px;
}

/* Filters */
.sf-filters{
  display:flex;
  justify-content: flex-start;
  gap:10px;
  flex-wrap:wrap;
  padding: 12px;
  background:#fff;
  border: 1px solid var(--sf-border);
  border-radius: 14px;
  box-shadow: var(--sf-shadow);
}

.sf-filter{
  display:grid;
  gap:6px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.06);
  background: linear-gradient(180deg, #f9fafb, #ffffff);
  min-width: 220px;
}

.sf-filter-label{
  font-size: 11px;
  font-weight: 950;
  color: var(--sf-muted);
  letter-spacing: .06em;
  text-transform: uppercase;
}

.sf-select{
  width:100%;
  font-size: 13px;
  padding: 9px 10px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.14);
  background:#fff;
  outline:none;
}
.sf-select:focus{
  border-color: rgba(37,99,235,0.55);
  box-shadow: 0 0 0 2px rgba(37,99,235,0.12);
}

/* Insights */
.sf-insights{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap: 12px;
  align-items: start;
}
@media (max-width: 1100px){
  .sf-insights{ grid-template-columns: 1fr; }
}

.sf-kpi-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}
@media (max-width: 900px){
  .sf-kpi-grid{ grid-template-columns: 1fr; }
}

.sf-kpi{
  background:#fff;
  border: 1px solid var(--sf-border);
  border-radius: 14px;
  padding: 12px 12px;
  box-shadow: var(--sf-shadow);
  position: relative;
  overflow:hidden;
}
.sf-kpi::before{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(140px 90px at 10% 20%, rgba(37,99,235,0.10), transparent 65%);
  pointer-events:none;
}

.sf-kpi-label{
  font-size: 11px;
  font-weight: 950;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: var(--sf-muted);
}

.sf-kpi-value{
  margin-top: 6px;
  font-size: 22px;
  font-weight: 950;
  color: var(--sf-ink);
  letter-spacing: -0.02em;
  line-height: 1.05;
}

.sf-kpi-sub{
  margin-top: 6px;
  font-size: 12.5px;
  color: var(--sf-muted);
  line-height: 1.25;
}

.sf-how{
  background:#fff;
  border: 1px solid var(--sf-border);
  border-radius: 14px;
  padding: 12px 12px;
  box-shadow: var(--sf-shadow);
}

.sf-how-title{
  font-size: 13.5px;
  font-weight: 950;
  color: var(--sf-ink);
  margin-bottom: 8px;
}

.sf-how-row{
  display:flex;
  align-items:center;
  gap:8px;
  font-size: 12.8px;
  color: var(--sf-muted);
  line-height: 1.35;
  margin: 6px 0;
}
.sf-how-row b{ color: var(--sf-ink); }

.sf-how-note{
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(0,0,0,0.06);
  font-size: 12.5px;
  color: var(--sf-muted);
}

/* Chart card */
.sf-card{
  background:#fff;
  border: 1px solid var(--sf-border);
  border-radius: 16px;
  box-shadow: 0 16px 40px rgba(0,0,0,0.08);
  padding: 12px 12px 14px;
  position: relative;
  overflow: hidden;
}

.sf-legend{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top: 10px;
}

.sf-chip{
  display:inline-flex;
  gap:8px;
  align-items:center;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  border: 1px solid rgba(15,23,42,0.10);
  background: #fff;
  color: var(--sf-ink);
}

.sf-chip-soft{
  background: rgba(37,99,235,0.08);
  border-color: rgba(37,99,235,0.18);
  color: #1d4ed8;
}

/* markers */
.sf-dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
.sf-dot-risk{ background: var(--sf-risk); }
.sf-dot-prot{ background: var(--sf-prot); }

.sf-mark{
  width:10px;height:10px;border-radius:3px;
  border: 2px solid rgba(15,23,42,0.25);
  display:inline-block;
}

/* Tooltip */
.sf-tooltip{
  position:absolute;
  pointer-events:none;
  opacity:0;
  background: rgba(15, 23, 42, 0.94);
  color: #fff;
  border-radius: 14px;
  padding: 10px 11px;
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 24px 70px rgba(0,0,0,0.22);
  max-width: 360px;
}
.sf-tt-title{ font-weight: 950; margin-bottom: 6px; font-size: 13px; }
.sf-tt-row{
  display:flex; align-items:center; gap:8px;
  margin: 6px 0;
  font-size: 12.5px;
}
.sf-tt-muted{ opacity: 0.86; font-size: 12px; margin-top: 8px; }
.sf-tt-val{ margin-left:auto; }
.sf-tt-delta{ margin-top: 10px; font-size: 12.5px; opacity: .95; }

/* SVG */
.sf-axis text{ fill: rgba(15,23,42,0.75); font-size: 11.5px; }
.sf-axis path, .sf-axis line{ stroke: rgba(15,23,42,0.16); }
.sf-grid line{ stroke: rgba(15,23,42,0.06); }

.sf-row-label{ fill: rgba(15,23,42,0.92); font-size: 13px; font-weight: 950; }
.sf-row-meta{ fill: rgba(100,116,139,0.92); font-size: 12px; }

.sf-link-line{
  stroke: rgba(15,23,42,0.28);
  stroke-width: 2.6;
  stroke-linecap: round;
}
.sf-row.is-hover .sf-link-line{
  stroke: rgba(15,23,42,0.70);
}

.sf-pt{
  stroke: rgba(255,255,255,0.95);
  stroke-width: 1.6;
}
.sf-pt-risk{ fill: var(--sf-risk); }
.sf-pt-prot{ fill: var(--sf-prot); }

.sf-delta{
  font-size: 12px;
  fill: rgba(15,23,42,0.92);
  font-weight: 950;
}

.sf-baseline-line{
  stroke: rgba(37,99,235,0.55);
  stroke-width: 2;
  stroke-dasharray: 6 6;
}
.sf-baseline-label{
  fill: rgba(100,116,139,0.95);
  font-size: 12px;
  font-weight: 850;
}

.sf-empty{
  fill: rgba(15,23,42,0.88);
  font-weight: 950;
  font-size: 13px;
}
/* =========================
   POLISH PATCH â€” Social Factors
   (colle tout en bas)
========================= */

/* 1) Donne de lâ€™air sous la carte + Ã©vite lâ€™effet â€œcollÃ©â€ */
#page-social .social-panel{
  padding-bottom: 22px;
}

/* 2) Wrap: limite largeur pour look â€œproâ€ + centrage */
.sf-wrap{
  max-width: 1180px;
  margin: 0 auto;
}

/* 3) Filters: aligne mieux et rÃ©duit le vide Ã  droite */
.sf-filters{
  justify-content: flex-start;
}

/* 4) KPI: mÃªme hauteur, meilleur alignement typographique */
.sf-kpi{
  min-height: 110px; /* uniformise */
}
.sf-kpi-value{
  letter-spacing: -0.03em;
}
.sf-kpi-sub:empty{ display:none; }  /* (tu voulais enlever les â€œâ€”â€) */

/* 5) How to read: plus compact, plus clean */
.sf-how-row{
  margin: 5px 0;
}
.sf-how-note{
  line-height: 1.3;
}

/* 6) Chart card: garantit que le SVG ne â€œdÃ©bordeâ€ jamais */
.sf-card{
  padding: 14px 14px 16px;
}
.sf-chart{
  overflow-x: auto;          /* âœ… si Ã©cran petit, pas de casse */
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}
.sf-svg{
  min-width: 980px;          /* âœ… Ã©vite compression moche */
  display:block;
}

/* 7) Labels Ã  gauche: meilleure lisibilitÃ© (moins â€œgrasâ€ visuellement) */
.sf-row-label{
  font-size: 12.8px;
  font-weight: 900;
}
.sf-row-meta{
  font-size: 11.8px;
}

/* 8) Baseline label: mieux placÃ© + plus discret */
.sf-baseline-label{
  font-size: 11.5px;
  opacity: 0.9;
}

/* 9) LÃ©gende: colle pas au bord + chips plus rÃ©guliers */
.sf-legend{
  margin-top: 12px;
}
.sf-chip{
  padding: 6px 10px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.04);
}

/* 10) Tooltip: un peu plus â€œpremiumâ€ */
.sf-tooltip{
  backdrop-filter: blur(8px);
}

/* 11) Responsive: pas dâ€™Ã©crasement */
@media (max-width: 1100px){
  .sf-svg{ min-width: 920px; }
}
@media (max-width: 900px){
  .sf-svg{ min-width: 860px; }
}
@media (max-width: 720px){
  .sf-svg{ min-width: 820px; }
  .sf-filter{ min-width: 180px; }
}
/* =========================
   COMPACT PATCH â€” Filters + KPI + text
========================= */

/* global spacing */
.sf-wrap{ gap: 10px; }

/* Filters: moins hauts */
.sf-filters{
  padding: 10px;
  gap: 8px;
  border-radius: 12px;
}
.sf-filter{
  padding: 8px 10px;
  gap: 5px;
  min-width: 190px;
  border-radius: 11px;
}
.sf-filter-label{
  font-size: 10px;
  letter-spacing: .07em;
}
.sf-select{
  font-size: 12px;
  padding: 7px 9px;
  border-radius: 11px;
}

/* KPI: plus compact */
.sf-kpi-grid{ gap: 10px; }

.sf-kpi{
  padding: 10px 10px;
  border-radius: 12px;
  min-height: 88px; /* ðŸ”» au lieu de 110px */
}
.sf-kpi-label{
  font-size: 10px;
  letter-spacing: .07em;
}
.sf-kpi-value{
  margin-top: 5px;
  font-size: 19px; /* ðŸ”» 22 -> 19 */
  line-height: 1.05;
}
.sf-kpi-sub{
  margin-top: 5px;
  font-size: 11.5px; /* ðŸ”» 12.5 -> 11.5 */
  line-height: 1.25;
}

/* How to read: plus petit */
.sf-how{
  padding: 10px 10px;
  border-radius: 12px;
}
.sf-how-title{
  font-size: 12.5px;
  margin-bottom: 6px;
}
.sf-how-row{
  font-size: 12px;
  margin: 4px 0;
}
.sf-how-note{
  margin-top: 8px;
  padding-top: 8px;
  font-size: 11.5px;
}

/* Chart card un peu plus compact */
.sf-card{
  padding: 12px 12px 14px;
  border-radius: 14px;
}
.sf-legend{ margin-top: 10px; gap: 8px; }
.sf-chip{ font-size: 11.5px; padding: 5px 9px; }
